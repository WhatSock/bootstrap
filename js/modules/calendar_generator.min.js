/*
ARIA Calendar Module R2.1
Copyright 2010-2019 Bryan Garaventa (WhatSock.com)
Refactoring Contributions Copyright 2018 Danny Allen (dannya.com) / Wonderscore Ltd (wonderscore.co.uk)
Part of AccDC, a Cross-Browser JavaScript accessibility API, distributed under the terms of the Open Source Initiative OSI - MIT License
*/
!function(){$A.setCalendar=function(e,t,l,m,n,v){var a=(v=v||{}).helpText?v.helpText:"Press the arrow keys to navigate by day, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year, or Escape to cancel.",r=v.openOnFocusHelpText?v.openOnFocusHelpText:"Date picker expanded. Press Down arrow to browse the calendar, or Escape to collapse.",o=v.helpTextOnClose?v.helpTextOnClose:"Calendar collapsed.",g=!1,p=!1,f=n&&"function"==typeof n?n:function(e,t){l.value=t.formatDate(t,{YYYY:t.range.current.year,MMMM:t.range[t.range.current.month].name,dddd:t.range.wDays[t.range.current.wDay].lng,MM:("00"+(t.range.current.month+1)).slice(-2),DD:("00"+t.range.current.mDay).slice(-2),Do:t.getDateOrdinalSuffix(t.range.current.mDay),M:t.range.current.month+1,D:t.range.current.mDay}),t.close(),p=!(g=!1),l.focus()},y={},h=function(e){y.alt=e.altKey,y.ctrl=e.ctrlKey,y.shift=e.shiftKey};$A([{id:e,role:v.role||"Calendar",trigger:t,bind:"opendatepicker",returnFocus:!1,openOnFocus:!0===v.openOnFocus,allowReopen:!0,showHiddenClose:!1,controlType:"DatePicker",tooltipTxt:v.tooltipTxt||"Press Escape to cancel",markedTxt:v.markedTxt||"Selected",disabledTxt:v.disabledTxt||"Disabled",commentedTxt:v.commentedTxt||"Has Comment",prevTxt:v.prevTxt||"Previous",nextTxt:v.nextTxt||"Next",monthTxt:v.monthTxt||"Month",yearTxt:v.yearTxt||"Year",leftButtonYearText:v.leftButtonYearText||"&#8656;",rightButtonYearText:v.rightButtonYearText||"&#8658;",leftButtonMonthText:v.leftButtonMonthText||"&#8592;",rightButtonMonthText:v.rightButtonMonthText||"&#8594;",drawFullCalendar:!0===v.drawFullCalendar,highlightToday:!0===v.highlightToday,pageUpDownNatural:!0,autoPosition:isNaN(v.autoPosition)?9:v.autoPosition,offsetTop:isNaN(v.offsetTop)?0:v.offsetTop,offsetLeft:isNaN(v.offsetLeft)?0:v.offsetLeft,posAnchor:v.posAnchor,targetObj:v.targetObj,inputDateFormat:v.inputDateFormat||"dddd MMMM D, YYYY",audibleDateFormat:v.audibleDateFormat||"D, dddd MMMM YYYY",initialDate:v.initialDate instanceof Date?v.initialDate:new Date,minDate:void 0!==v.minDate?v.minDate instanceof Date?v.minDate:new Date((new Date).setDate((new Date).getDate()+v.minDate)):void 0,maxDate:void 0!==v.maxDate?v.maxDate instanceof Date?v.maxDate:new Date((new Date).setDate((new Date).getDate()+v.maxDate)):void 0,disableWeekdays:void 0!==v.disableWeekdays&&v.disableWeekdays,disableWeekends:void 0!==v.disableWeekends&&v.disableWeekends,cssObj:v.cssObj||{position:"absolute",zIndex:1},className:v.className||"calendar",range:{disabledWDays:[],0:{name:v.months&&v.months[0]?v.months[0]:"January",max:31,marked:{},disabled:{},disabledWDays:[],comments:{},message:{}},1:{name:v.months&&v.months[1]?v.months[1]:"February",max:28,marked:{},disabled:{},disabledWDays:[],comments:{},message:{}},2:{name:v.months&&v.months[2]?v.months[2]:"March",max:31,marked:{},disabled:{},disabledWDays:[],comments:{},message:{}},3:{name:v.months&&v.months[3]?v.months[3]:"April",max:30,marked:{},disabled:{},disabledWDays:[],comments:{},message:{}},4:{name:v.months&&v.months[4]?v.months[4]:"May",max:31,marked:{},disabled:{},disabledWDays:[],comments:{},message:{}},5:{name:v.months&&v.months[5]?v.months[5]:"June",max:30,marked:{},disabled:{},disabledWDays:[],comments:{},message:{}},6:{name:v.months&&v.months[6]?v.months[6]:"July",max:31,marked:{},disabled:{},disabledWDays:[],comments:{},message:{}},7:{name:v.months&&v.months[7]?v.months[7]:"August",max:31,marked:{},disabled:{},disabledWDays:[],comments:{},message:{}},8:{name:v.months&&v.months[8]?v.months[8]:"September",max:30,marked:{},disabled:{},disabledWDays:[],comments:{},message:{}},9:{name:v.months&&v.months[9]?v.months[9]:"October",max:31,marked:{},disabled:{},disabledWDays:[],comments:{},message:{}},10:{name:v.months&&v.months[10]?v.months[10]:"November",max:30,marked:{},disabled:{},disabledWDays:[],comments:{},message:{}},11:{name:v.months&&v.months[11]?v.months[11]:"December",max:31,marked:{},disabled:{},disabledWDays:[],comments:{},message:{}},wDays:[{shrt:v.days&&v.days[0]?v.days[0].s:"S",lng:v.days&&v.days[0]?v.days[0].l:"Sunday"},{shrt:v.days&&v.days[1]?v.days[1].s:"M",lng:v.days&&v.days[1]?v.days[1].l:"Monday"},{shrt:v.days&&v.days[2]?v.days[2].s:"T",lng:v.days&&v.days[2]?v.days[2].l:"Tuesday"},{shrt:v.days&&v.days[3]?v.days[3].s:"W",lng:v.days&&v.days[3]?v.days[3].l:"Wednesday"},{shrt:v.days&&v.days[4]?v.days[4].s:"T",lng:v.days&&v.days[4]?v.days[4].l:"Thursday"},{shrt:v.days&&v.days[5]?v.days[5].s:"F",lng:v.days&&v.days[5]?v.days[5].l:"Friday"},{shrt:v.days&&v.days[6]?v.days[6].s:"S",lng:v.days&&v.days[6]?v.days[6].l:"Saturday"}],wdOffset:isNaN(v.wdOffset)?0:v.wdOffset},getWDay:function(e,t,n){t="number"==typeof t?t:e.range.current.wDay;var a=e.range.wdOffset;return a<0?t=t+a<0?7+a:t+a:0<a&&(t=6<t+a?t+a-6-1:t+a),n&&(t=6-t),t},getDateOrdinalSuffix:function(e){var t=e%10,n=e%100;return 1==t&&11!=n?e+"st":2==t&&12!=n?e+"nd":3==t&&13!=n?e+"rd":e+"th"},formatDate:function(e,t,n){"string"!=typeof n&&(n=e.inputDateFormat);var a=new RegExp(Object.keys(t).join("|"),"gi");return n.replace(a,function(e){return t[e]})},modifyDateValues:function(e,t){for(var n in t){var a=t[n];"month"===n&&(e.month+=a,a<0?e.month<0&&(e.month=11,e.year&&(e.year-=1)):11<e.month&&(e.month=0,e.year&&(e.year+=1)))}return e},setFocus:function(e,t,n){var a=this;return!!e&&(this.current=e,$A.query("td.dayInMonth.selected",this.containerDiv,function(e,t){$A.setAttr(t,{tabindex:"-1"}),$A.remClass(t,"selected")}),$A.addClass(e,"selected"),$A.setAttr(e,{tabindex:"0"}),n||("PM"==a.navBtn?(a.buttons.pM.focus(),$A.announce(a.range[a.range.current.month].name),a.navBtnS=!0):"NM"==a.navBtn?(a.buttons.nM.focus(),$A.announce(a.range[a.range.current.month].name),a.navBtnS=!0):"PY"==a.navBtn?(a.buttons.pY.focus(),$A.announce(a.range.current.year.toString()),a.navBtnS=!0):"NY"==a.navBtn?(a.buttons.nY.focus(),$A.announce(a.range.current.year.toString()),a.navBtnS=!0):(!a.openOnFocus||a.openOnFocus&&!g&&p)&&e.focus()),a.fn.navBtn?a.fn.navBtn="":a.navBtn="",!0)},setCurrent:function(e){e.range.current={mDay:e.date.getDate(),month:e.date.getMonth(),year:e.date.getFullYear(),wDay:e.date.getDay()}},setDayMarked:function(e,t,n){var a=t.getFullYear(),r=t.getMonth(),o=t.getDate();if(n)"object"!=typeof e.range[r].marked[a]&&(e.range[r].marked[a]=[]),e.range[r].marked[a].push(o);else if("object"==typeof e.range[r].marked[a]){var s=e.range[r].marked[a].indexOf(o);-1!==s&&delete e.range[r].marked[a][s]}},clearAllMarked:function(e){for(var t in e.range)e.range[t].marked={}},setDayDisabled:function(e,t,n){var a=t.getFullYear(),r=t.getMonth(),o=t.getDate();if(n)"object"!=typeof e.range[r].disabled[a]&&(e.range[r].disabled[a]=[]),e.range[r].disabled[a].push(o);else if("object"==typeof e.range[r].disabled[a]){var s=e.range[r].disabled[a].indexOf(o);-1!==s&&delete e.range[r].disabled[a][s]}},setMonthDisabled:function(e,t,n){var a=t.getFullYear(),r=t.getMonth();if(n){e.range[r].disabled[a]=[];for(var o=1;o<=e.range[r].max;o++)e.range[r].disabled[a].push(o)}else e.range[r].disabled[a]=[]},setDayOfWeekDisabled:function(e,t,n,a){var r=t.getFullYear(),o=t.getMonth();"object"!=typeof e.range[o].disabled[r]&&(e.range[o].disabled[r]=[]);for(var s=new Date(r,o,1),i=1;i<=e.range[o].max;i++)if(s.setDate(i),-1!==n.indexOf(s.getDay()))if(a)e.range[o].disabled[r].push(i);else{var d=e.range[o].marked[r].indexOf(i);-1!==d&&delete e.range[o].marked[r][d]}},setWeekdaysDisabled:function(e,t,n){e.setDayOfWeekDisabled(e,t,[1,2,3,4,5],n)},setWeekendsDisabled:function(e,t,n){e.setDayOfWeekDisabled(e,t,[0,6],n)},clearAllDisabled:function(e){for(var t in e.range)e.range[t].disabled={}},setMonthMessage:function(e,t,n){var a=t.getFullYear(),r=t.getMonth();"string"==typeof n&&0<n.length?e.range[r].message[a]=n:delete e.range[r].message[a]},clearAllMessage:function(e){for(var t in e.range)e.range[t].message={}},isDisabledDate:function(e,t,n,a){a||(a=e.range.current);var r=e.range[a.month].disabled[a.year],o=e.range[a.month].disabled["*"],s=e.range[a.month].disabledWDays,i=e.range.disabledWDays,d=n.getDay();return!!(r&&-1!==$A.inArray(t,r)||o&&-1!==$A.inArray(t,o)||s.length&&-1!==$A.inArray(d,s)||i.length&&-1!==$A.inArray(d,i)||e.isOutsideDateRange(n))},isOutsideDateRange:function(e){var t=this.createDateComparisonValue(e);return this.minDateComparisonValue&&t<this.minDateComparisonValue||this.maxDateComparisonValue&&t>this.maxDateComparisonValue},createDayCell:function(e,t,n,a,r){var o=this,s="<td ";r&&(s+='aria-current="date" '),a&&(s+='aria-disabled="true" '),s+='aria-label="';var i=o.range[o.range.current.month].comments[o.range.current.year],d=o.range[o.range.current.month].comments["*"],u="";i&&i[e]?u=i[e]:d&&d[e]&&(u=d[e]),u&&(s+=o.commentedTxt.replace(/<|>|\"/g,"")+" ");var c=t.getMonth(),l={YYYY:t.getFullYear(),MMMM:o.range[c].name,dddd:o.range.wDays[t.getDay()].lng,MM:("00"+(c+1)).slice(-2),DD:("00"+e).slice(-2),Do:o.getDateOrdinalSuffix(e),M:c+1,D:e},m=new RegExp(Object.keys(l).join("|"),"gi");s+=o.audibleDateFormat.replace(m,function(e){return l[e]}),u&&(s+=u.replace(/<|>|\n/g," ").replace(/\"/g,'"')),s+='" role="link" tabindex="-1" ',s+='class="day '+(n||""),!0===o.highlightToday&&o.createDateComparisonValue(t)===o.currentDateComparisonValue&&(s+=" dayToday");var g=o.range[o.range.current.month].marked[o.range.current.year]&&-1!==o.range[o.range.current.month].marked[o.range.current.year].indexOf(e);return(r&&!a||g)&&(s+=" dayMarked"),a&&(s+=" disabled"),u&&(s+=" comment"),s+='" ',s+='title="',g?s+=o.markedTxt.replace(/<|>|\"/g,""):a&&(s+=o.disabledTxt.replace(/<|>|\"/g,"")),u&&(s+=" "+o.commentedTxt.replace(/<|>|\"/g,"")),s+='" id="'+o.baseId+e+'"><span aria-hidden="true">'+e+"</span></td>"},createDateComparisonValue:function(e){return parseInt(e.getFullYear()+("00"+e.getMonth()).slice(-2)+("00"+e.getDate()).slice(-2),10)},setDate:function(e,t){void 0===t&&((e.minDate||e.maxDate)&&e.isOutsideDateRange(e.initialDate)?e.initialDate<e.minDate?t=e.minDate:e.initialDate>e.maxDate&&(t=e.maxDate):t=e.initialDate),e.date=t,e.setCurrent(e),e.fn.current={},$A.internal.extend(!0,e.fn.current,e.range.current)},runOnceBefore:function(e){e.minDate&&(e.minDate.setHours(0,0,0,0),e.minDateComparisonValue=e.createDateComparisonValue(e.minDate)),e.maxDate&&(e.maxDate.setHours(0,0,0,0),e.maxDateComparisonValue=e.createDateComparisonValue(e.maxDate)),this.setDate(e),e.currentDate=new Date,e.currentDateComparisonValue=e.createDateComparisonValue(e.currentDate)},runBefore:function(e){"function"==typeof v.runBefore&&v.runBefore(e),e.disableWeekdays&&e.setWeekdaysDisabled(e,e.date,!0),e.disableWeekends&&e.setWeekendsDisabled(e,e.date,!0),!v.ajax||"function"!=typeof v.ajax||e.stopAjax||e.ajaxLoading||(e.ajaxLoading=e.cancel=!0,e.fn.navBtn=e.navBtn,v.ajax.apply(e,[e,!1])),1===e.range.current.month&&(e.range[1].max=1==new Date(e.range.current.year,1,29).getMonth()?29:28),e.baseId="b"+$A.genId(),e.prevBtnId=e.baseId+"p",e.nextBtnId=e.baseId+"n";var t=e.modifyDateValues({month:e.range.current.month,year:e.range.current.year},{month:-1}),n=new Date;n.setMonth(t.month),n.setFullYear(t.year);var a=e.modifyDateValues({month:e.range.current.month,year:e.range.current.year},{month:1}),r=new Date;r.setMonth(a.month),r.setFullYear(a.year);var o="";if(!v.condenseYear){var s=!e.isOutsideDateRange(new Date(e.range.current.year-1,0,1)),i=!e.isOutsideDateRange(new Date(e.range.current.year+1,0,1));o='<tr class="yearSelector" role="presentation"><td class="nav prev btn year'+(s?"":" disabled")+'" accesskey="1" title="'+e.prevTxt.replace(/<|>|\"/g,"")+" "+e.yearTxt.replace(/<|>|\"/g,"")+'" aria-label="'+e.prevTxt.replace(/<|>|\"/g,"")+" "+e.yearTxt.replace(/<|>|\"/g,"")+'"'+(s?' tabindex="0"':' aria-disabled="true" tabindex="-1"')+' role="button" id="'+e.prevBtnId+'Y"><span aria-hidden="true">'+e.leftButtonYearText+'</span></td><td title="'+e.tooltipTxt.replace(/<|>|\"/g,"")+'" colspan="5" class="year" role="presentation"><span>'+e.range.current.year+'</span></td><td class="nav next nav prev btn'+(i?"":" disabled")+'" accesskey="2" title="'+e.nextTxt.replace(/<|>|\"/g,"")+" "+e.yearTxt.replace(/<|>|\"/g,"")+'" aria-label="'+e.nextTxt.replace(/<|>|\"/g,"")+" "+e.yearTxt.replace(/<|>|\"/g,"")+'"'+(i?' tabindex="0"':' aria-disabled="true" tabindex="-1"')+' role="button" id="'+e.nextBtnId+'Y"><span aria-hidden="true">'+e.rightButtonYearText+"</span></td></tr>"}var d=!e.isOutsideDateRange(new Date(t.year,t.month,e.range[t.month].max)),u=!e.isOutsideDateRange(new Date(a.year,a.month,1)),c='<tr class="monthSelector" role="presentation"><td class="nav prev btn month'+(d?"":" disabled")+'" accesskey="3" title="'+e.prevTxt.replace(/<|>|\"/g,"")+" "+e.monthTxt.replace(/<|>|\"/g,"")+'" aria-label="'+e.prevTxt.replace(/<|>|\"/g,"")+" "+e.monthTxt.replace(/<|>|\"/g,"")+'"'+(d?' tabindex="0"':' aria-disabled="true" tabindex="-1"')+' role="button" id="'+e.prevBtnId+'"><span aria-hidden="true">'+e.leftButtonMonthText+'</span></td><td colspan="5" class="month" role="presentation"><span>'+e.range[e.range.current.month].name+(v.condenseYear?" "+e.range.current.year:"")+'</span></td><td class="nav next btn month'+(u?"":" disabled")+'" accesskey="4" title="'+e.nextTxt.replace(/<|>|\"/g,"")+" "+e.monthTxt.replace(/<|>|\"/g,"")+'" aria-label="'+e.nextTxt.replace(/<|>|\"/g,"")+" "+e.monthTxt.replace(/<|>|\"/g,"")+'"'+(u?' tabindex="0"':' aria-disabled="true" tabindex="-1"')+' role="button" id="'+e.nextBtnId+'"><span aria-hidden="true">'+e.rightButtonMonthText+"</span></td></tr>";e.source='<table role="application" class="calendar" aria-label="'+e.role+'">'+o+c+'<tr role="presentation">';for(var l=e.iter=0;l<7;l++){var m=e.getWDay(e,l),g=e.range.wDays[m];l||(e.iter=e.iterE=6<m+6?-1+m:m+6,e.iterS=m),e.source+='<th scope="col" class="week" title="'+g.lng+'" role="presentation"><span>'+g.shrt+"</span></th>"}e.source+='</tr><tr role="presentation">';var p=new Date;p.setDate(1),p.setMonth(e.range.current.month),p.setFullYear(e.range.current.year);var f=p.getDay();p.setDate(e.range[e.range.current.month].max);var y=p.getDay(),h=e.iterS;if(!0===e.drawFullCalendar)var D=new Date(t.year,t.month+1,0).getDate()-new Date(e.range.current.year,e.range.current.month,0).getDay()+e.range.wdOffset;for(;h!=f;)h=6<h+1?0:h+1,!0===e.drawFullCalendar?(n.setDate(D),e.source+=e.createDayCell(D,n,"dayInPrevMonth",e.isDisabledDate(e,D,n)),++D):e.source+='<td class="empty" role="presentation"><span>&nbsp;</span></td>';e.range.track={};for(l=1;l<=31;l++)e.range.track[e.baseId+l]=l;for(l=1;l<=e.range[e.range.current.month].max;l++){p.setDate(l);var b=l==e.fn.current.mDay&&e.range.current.month==e.fn.current.month&&e.range.current.year==e.fn.current.year;e.source+=e.createDayCell(l,p,"dayInMonth",e.isDisabledDate(e,l,p),b),(h=p.getDay())==e.iter&&l<e.range[e.range.current.month].max&&(e.source+='</tr><tr role="presentation">')}if(!0===e.drawFullCalendar)D=1;for(;y!=e.iter;)y=6<y+1?0:y+1,!0===e.drawFullCalendar?(r.setDate(D),e.source+=e.createDayCell(D,r,"dayInNextMonth",e.isDisabledDate(e,D,r)),++D):e.source+='<td class="empty" role="presentation"><span>&nbsp;</span></td>';e.source+="</tr></table>",e.range[e.range.current.month].message[e.range.current.year]&&(e.source+='<div class="monthMessage">\t<p>'+e.range[e.range.current.month].message[e.range.current.year]+"</p></div>"),$A.find("*",function(e){e.controlType&&"DatePicker"==e.controlType&&e.loaded&&e.close()})},click:function(e,t){e.stopPropagation()},runDuring:function(t){t.datepickerLoaded=!1,$A.bind("body","click.datepicker",function(e){t.datepickerLoaded&&t.close()}),$A.setAttr(t.accDCObj,{role:"dialog","data-helptext":t.helpText,"aria-label":t.role}),t.fn.sraStart.innerHTML=t.fn.sraEnd.innerHTML="",$A.setAttr(t.fn.sraStart,{"aria-hidden":"true"}),$A.setAttr(t.fn.sraEnd,{"aria-hidden":"true"})},runAfter:function(s){s.buttons={pY:v.condenseYear?null:$A.getEl(s.prevBtnId+"Y"),nY:v.condenseYear?null:$A.getEl(s.nextBtnId+"Y"),pM:$A.getEl(s.prevBtnId),nM:$A.getEl(s.nextBtnId)},!v.condenseYear&&s.disableNavPrevYearBtn&&$A.setAttr(s.buttons.pY,"aria-disabled","true"),!v.condenseYear&&s.disableNavNextYearBtn&&$A.setAttr(s.buttons.nY,"aria-disabled","true"),s.disableNavPrevMonthBtn&&$A.setAttr(s.buttons.pM,"aria-disabled","true"),s.disableNavNextMonthBtn&&$A.setAttr(s.buttons.nM,"aria-disabled","true"),s.prevCurrent||(s.prevCurrent={}),$A.internal.extend(!0,s.prevCurrent,s.range.current);var i=function(){if(!s.disableNavNextMonthBtn||"true"!=$A.getAttr(s.buttons.nM,"aria-disabled")){$A.internal.extend(!0,s.prevCurrent,s.range.current);var e=s.modifyDateValues({month:s.range.current.month,year:s.range.current.year},{month:1});if(s.isOutsideDateRange(new Date(e.year,e.month,1)))s.date=s.maxDate;else{var t=s.range.current.mDay>s.range[e.month].max?s.range[e.month].max:s.range.current.mDay,n=new Date(e.year,e.month,t);s.isOutsideDateRange(n)?s.date=s.maxDate:s.date=n}s.setCurrent(s),s.reopen=!0,s.open()}},d=function(){if(!s.disableNavPrevMonthBtn||"true"!=$A.getAttr(s.buttons.pM,"aria-disabled")){$A.internal.extend(!0,s.prevCurrent,s.range.current);var e=s.modifyDateValues({month:s.range.current.month,year:s.range.current.year},{month:-1});if(s.isOutsideDateRange(new Date(e.year,e.month,s.range[e.month].max)))s.date=s.minDate;else{var t=s.range.current.mDay>s.range[e.month].max?s.range[e.month].max:s.range.current.mDay,n=new Date(e.year,e.month,t);s.isOutsideDateRange(n)?s.date=s.minDate:s.date=n}s.setCurrent(s),s.reopen=!0,s.open()}},u=function(e){if((e||!(!v.condenseYear&&"true"==$A.getAttr(s.buttons.pY,"aria-disabled")||v.condenseYear&&s.disableNavPrevYearBtn))&&(!e||!(!v.condenseYear&&"true"==$A.getAttr(s.buttons.nY,"aria-disabled")||v.condenseYear&&s.disableNavNextYearBtn))){$A.internal.extend(!0,s.prevCurrent,s.range.current);var t=s.range.current.month,n=e?s.range.current.year+1:s.range.current.year-1;1===t&&(s.range[1].max=28);var a=s.range.current.mDay>s.range[t].max?s.range[t].max:s.range.current.mDay,r=new Date(n,t,a);s.isOutsideDateRange(r)||(s.date=r,s.setCurrent(s),s.reopen=!0,s.open())}},c=!1;$A.bind("#"+s.containerDivId+" td.day",{focus:function(e){if($A.hasClass(this,"comment")){var t=s.children[0],n=s.range[s.range.current.month].comments[s.range.current.year],a=s.range[s.range.current.month].comments["*"],r="";n&&n[s.range.current.mDay]?r=n[s.range.current.mDay]:a&&a[s.range.current.mDay]&&(r=a[s.range.current.mDay]),(r=D(r.replace(/<|>/g,"")))&&(t.source=r,t.open())}else s.children[0].loaded&&s.children[0].close();s.children[1].openEditor&&(s.children[1].openEditor=!1,s.children[1].reset())},click:function(e){if($A.hasClass(this,"dayInPrevMonth")){var t=s.modifyDateValues({month:s.range.current.month,year:s.range.current.year},{month:-1});s.date=new Date(t.year,t.month,s.range.track[this.id])}else if($A.hasClass(this,"dayInNextMonth")){var n=s.modifyDateValues({month:s.range.current.month,year:s.range.current.year},{month:1});s.date=new Date(n.year,n.month,s.range.track[this.id])}else s.date.setDate(s.range.track[this.id]);s.setCurrent(s),$A.hasClass(this,"selected")||!m&&!$A.hasClass(this,"comment")?"true"!=$A.getAttr(this,"aria-disabled")?($A.internal.extend(!0,s.fn.current,s.range.current),f.apply(this,[e,s,l])):(e.stopPropagation(),e.preventDefault()):s.setFocus(this),e.preventDefault()},keydown:function(e){h(e);var t=e.which||e.keyCode;if(13==t)c=!0,"true"!=$A.getAttr(this,"aria-disabled")&&($A.internal.extend(!0,s.fn.current,s.range.current),f.apply(this,[e,s,l])),e.preventDefault();else if(32==t&&m&&v.editor&&v.editor.show&&!s.children[1].openEditor)s.children[1].openEditor=!0,s.children[1].reset(),e.preventDefault();else if(37<=t&&t<=40||27==t||33<=t&&t<=36){var n=s.range.current.wDay;if(37==t){if($A.internal.extend(!0,s.prevCurrent,s.range.current),1<s.range.current.mDay)s.range.current.mDay--,s.range.current.wDay=n?n-1:6,s.setFocus(s.range.index[s.range.current.mDay-1],this);else if(1==s.range.current.mDay&&"true"!=$A.getAttr(s.buttons.pM,"aria-disabled")){var a=s.modifyDateValues({month:s.range.current.month,year:s.range.current.year},{month:-1}),r=s.range[a.month].max;1===a.month&&(r=1==new Date(a.year,1,29).getMonth()?29:28),s.date=new Date(a.year,a.month,r),s.setCurrent(s),s.reopen=!0,s.open()}}else if(39==t){if($A.internal.extend(!0,s.prevCurrent,s.range.current),s.range.current.mDay<s.range[s.range.current.month].max)s.range.current.mDay++,s.range.current.wDay=6==n?0:n+1,s.setFocus(s.range.index[s.range.current.mDay-1],this);else if(s.range.current.mDay==s.range[s.range.current.month].max&&"true"!=$A.getAttr(s.buttons.nM,"aria-disabled")){a=s.modifyDateValues({month:s.range.current.month,year:s.range.current.year},{month:1});s.date=new Date(a.year,a.month,1),s.setCurrent(s),s.reopen=!0,s.open()}}else if(38==t){if($A.internal.extend(!0,s.prevCurrent,s.range.current),0<s.range.current.mDay-7)s.range.current.mDay-=7,s.setFocus(s.range.index[s.range.current.mDay-1],this);else if("true"!=$A.getAttr(s.buttons.pM,"aria-disabled")){1===(a=s.modifyDateValues({month:s.range.current.month,year:s.range.current.year},{month:-1})).month&&1==new Date(a.year,1,29).getMonth()?s.range[a.month].max=29:1===a.month&&(s.range[a.month].max=28);r=s.range[a.month].max+(s.range.current.mDay-7);var o=new Date(a.year,a.month,r);s.isOutsideDateRange(o)||(s.date=o,s.setCurrent(s),s.reopen=!0,s.open())}}else if(40==t){if($A.internal.extend(!0,s.prevCurrent,s.range.current),s.range.current.mDay+7<=s.range[s.range.current.month].max)s.range.current.mDay+=7,s.setFocus(s.range.index[s.range.current.mDay-1],this);else if("true"!=$A.getAttr(s.buttons.nM,"aria-disabled")){a=s.modifyDateValues({month:s.range.current.month,year:s.range.current.year},{month:1}),r=s.range.current.mDay+7-s.range[s.range.current.month].max,o=new Date(a.year,a.month,r);s.isOutsideDateRange(o)||(s.date=o,s.setCurrent(s),s.reopen=!0,s.open())}}else if(27==t)s.close(),p=!(g=!1),l.focus();else if(33==t)$A.internal.extend(!0,s.prevCurrent,s.range.current),!0===s.pageUpDownNatural?y.alt?u(!1):d():y.alt?u(!0):i();else if(34==t)$A.internal.extend(!0,s.prevCurrent,s.range.current),!0===s.pageUpDownNatural?y.alt?u(!0):i():y.alt?u(!1):d();else if(36==t){if($A.internal.extend(!0,s.prevCurrent,s.range.current),n!=s.iterS&&1<s.range.current.mDay){for(;s.range.current.wDay!=s.iterS&&$A.getEl(s.baseId+(s.range.current.mDay-1));)s.range.current.wDay=s.range.current.wDay-1<0?6:s.range.current.wDay-1,s.range.current.mDay--;s.setFocus(s.range.index[s.range.current.mDay-1],this)}}else if(35==t&&($A.internal.extend(!0,s.prevCurrent,s.range.current),n!=s.iterE&&s.range.current.mDay<s.range[s.range.current.month].max)){for(;s.range.current.wDay!=s.iterE&&$A.getEl(s.baseId+(s.range.current.mDay+1));)s.range.current.wDay=6<s.range.current.wDay+1?0:s.range.current.wDay+1,s.range.current.mDay++;s.setFocus(s.range.index[s.range.current.mDay-1],this)}e.preventDefault()}else 9!=t||y.alt||y.ctrl||y.shift?9!=t||y.alt||y.ctrl||!y.shift||($A.internal.extend(!0,s.prevCurrent,s.range.current),"true"!=$A.getAttr(s.buttons.nM,"aria-disabled")?s.buttons.nM.focus():"true"!=$A.getAttr(s.buttons.pM,"aria-disabled")?s.buttons.pM.focus():v.condenseYear||"true"==$A.getAttr(s.buttons.nY,"aria-disabled")?v.condenseYear||"true"==$A.getAttr(s.buttons.pY,"aria-disabled")||s.buttons.pY.focus():s.buttons.nY.focus(),e.preventDefault()):($A.internal.extend(!0,s.prevCurrent,s.range.current),v.condenseYear||"true"==$A.getAttr(s.buttons.pY,"aria-disabled")?v.condenseYear||"true"==$A.getAttr(s.buttons.nY,"aria-disabled")?"true"!=$A.getAttr(s.buttons.pM,"aria-disabled")?s.buttons.pM.focus():"true"!=$A.getAttr(s.buttons.nM,"aria-disabled")&&s.buttons.nM.focus():s.buttons.nY.focus():s.buttons.pY.focus(),e.preventDefault())},keyup:function(e){h(e),13!=(e.which||e.keyCode)||c||s.isAdd||("true"!=$A.getAttr(this,"aria-disabled")&&($A.internal.extend(!0,s.fn.current,s.range.current),s.setFocus.firstOpen||f.apply(this,[e,s,l])),e.preventDefault()),c=s.setFocus.firstOpen=s.isAdd=!1}}),$A.bind(s.buttons.pM,{click:function(e){s.navBtn="PM",d(),e.preventDefault()},keydown:function(e){h(e);var t=e.which||e.keyCode;13==t||32==t?(s.navBtn="PM",d(),e.preventDefault()):27==t?(s.close(),p=!(g=!1),l.focus(),e.preventDefault()):v.condenseYear||38!=t?39==t?(s.buttons.nM.focus(),e.preventDefault()):37==t||40==t?e.preventDefault():9!=t||y.alt||y.ctrl||y.shift?9!=t||y.alt||y.ctrl||!y.shift||(v.condenseYear||"true"==$A.getAttr(s.buttons.nY,"aria-disabled")?v.condenseYear||"true"==$A.getAttr(s.buttons.pY,"aria-disabled")?$A.query('td.day[tabindex="0"]',s.containerDiv)[0].focus():s.buttons.pY.focus():s.buttons.nY.focus(),e.preventDefault()):("true"!=$A.getAttr(s.buttons.nM,"aria-disabled")?s.buttons.nM.focus():$A.query('td.day[tabindex="0"]',s.containerDiv)[0].focus(),e.preventDefault()):(s.buttons.pY.focus(),e.preventDefault())},keyup:function(e){h(e)}}),$A.bind(s.buttons.nM,{click:function(e){s.navBtn="NM",i(),e.preventDefault()},keydown:function(e){h(e);var t=e.which||e.keyCode;13==t||32==t?(s.navBtn="NM",i(),e.preventDefault()):27==t?(s.close(),p=!(g=!1),l.focus(),e.preventDefault()):v.condenseYear||38!=t?37==t?(s.buttons.pM.focus(),e.preventDefault()):39==t||40==t?e.preventDefault():9!=t||y.alt||y.ctrl||y.shift?9!=t||y.alt||y.ctrl||!y.shift||("true"!=$A.getAttr(s.buttons.pM,"aria-disabled")?s.buttons.pM.focus():v.condenseYear||"true"==$A.getAttr(s.buttons.nY,"aria-disabled")?v.condenseYear||"true"==$A.getAttr(s.buttons.pY,"aria-disabled")?$A.query('td.day[tabindex="0"]',s.containerDiv)[0].focus():s.buttons.pY.focus():s.buttons.nY.focus(),e.preventDefault()):($A.query('td.day[tabindex="0"]',s.containerDiv)[0].focus(),e.preventDefault()):(s.buttons.nY.focus(),e.preventDefault())},keyup:function(e){h(e)}}),v.condenseYear||$A.bind(s.buttons.pY,{click:function(e){s.navBtn="PY",u(),e.preventDefault()},keydown:function(e){h(e);var t=e.which||e.keyCode;13==t||32==t?(s.navBtn="PY",u(),e.preventDefault()):27==t?(s.close(),p=!(g=!1),l.focus(),e.preventDefault()):39==t?(s.buttons.nY.focus(),e.preventDefault()):40==t?(s.buttons.pM.focus(),e.preventDefault()):37==t||38==t?e.preventDefault():9!=t||y.alt||y.ctrl||y.shift?9!=t||y.alt||y.ctrl||!y.shift||($A.query('td.day[tabindex="0"]',s.containerDiv)[0].focus(),e.preventDefault()):("true"!=$A.getAttr(s.buttons.nY,"aria-disabled")?s.buttons.nY.focus():"true"!=$A.getAttr(s.buttons.pM,"aria-disabled")?s.buttons.pM.focus():"true"!=$A.getAttr(s.buttons.nM,"aria-disabled")?s.buttons.nM.focus():$A.query('td.day[tabindex="0"]',s.containerDiv)[0].focus(),e.preventDefault())},keyup:function(e){h(e)}}),v.condenseYear||$A.bind(s.buttons.nY,{click:function(e){s.navBtn="NY",u(!0),e.preventDefault()},keydown:function(e){h(e);var t=e.which||e.keyCode;13==t||32==t?(s.navBtn="NY",u(!0),e.preventDefault()):27==t?(s.close(),p=!(g=!1),l.focus(),e.preventDefault()):37==t?(s.buttons.pY.focus(),e.preventDefault()):40==t?(s.buttons.nM.focus(),e.preventDefault()):38==t||39==t?e.preventDefault():9!=t||y.alt||y.ctrl||y.shift?9!=t||y.alt||y.ctrl||!y.shift||("true"!=$A.getAttr(s.buttons.pY,"aria-disabled")?s.buttons.pY.focus():$A.query('td.day[tabindex="0"]',s.containerDiv)[0].focus(),e.preventDefault()):("true"!=$A.getAttr(s.buttons.pM,"aria-disabled")?s.buttons.pM.focus():"true"!=$A.getAttr(s.buttons.nM,"aria-disabled")?s.buttons.nM.focus():$A.query('td.day[tabindex="0"]',s.containerDiv)[0].focus(),e.preventDefault())},keyup:function(e){h(e)}}),s.range.index=$A.query("td.dayInMonth",s.containerDiv),s.setFocus.firstOpen=!0,s.setFocus(s.range.index[s.range.current.mDay-1]),m&&v.editor&&v.editor.show&&s.children[1].open(),$A.bind(window,"resize.datepicker",function(e){s.setPosition()}),$A.setAttr(s.triggerObj,"aria-expanded","true"),setTimeout(function(){s.datepickerLoaded=!0},750),s.navBtnS||"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints||(!v.openOnFocus||!0===v.openOnFocus&&!g&&p)&&$A.announce(s.helpText),s.navBtnS=!1},helpText:a,runAfterClose:function(e){e.reopen?e.reopen=!1:(v.resetCurrent&&(e.date=new Date,e.setCurrent(e),$A.internal.extend(!0,e.fn.current,e.range.current)),m&&e.children[0].close(),m&&v.editor&&v.editor.show&&(e.children[1].lock=!1,e.children[1].close())),v.ajax&&"function"==typeof v.ajax&&(e.lock=e.ajaxLoading=!1),$A.unbind(window,".datepicker"),$A.unbind("body",".datepicker"),$A.setAttr(e.triggerObj,"aria-expanded","false"),"function"==typeof v.runAfterClose&&v.runAfterClose(e)}}]),$A($A.reg[e],[{id:e+"commentTooltip",role:v.comments&&v.comments.role||"Comment",returnFocus:!1,showHiddenClose:!1,allowReopen:!0,autoPosition:isNaN(v.comments&&v.comments.autoPosition)?1:v.comments.autoPosition,offsetTop:isNaN(v.comments&&v.comments.offsetTop)?0:v.comments.offsetTop,offsetLeft:isNaN(v.comments&&v.comments.offsetLeft)?0:v.comments.offsetLeft,cssObj:{position:"absolute",zIndex:$A.reg[e].cssObj.zIndex},className:v.comments&&v.comments.className||"commentTooltip",runBefore:function(e){e.triggerObj=e.parent.accDCObj}}]),$A($A.reg[e],[{id:e+"commentAdd",role:v.editor&&v.editor.role||"Edit",returnFocus:!1,allowReopen:!0,autoPosition:isNaN(v.editor&&v.editor.autoPosition)?6:v.editor.autoPosition,offsetTop:isNaN(v.editor&&v.editor.offsetTop)?0:v.editor.offsetTop,offsetLeft:isNaN(v.editor&&v.editor.offsetLeft)?0:v.editor.offsetLeft,cssObj:{position:"absolute",zIndex:$A.reg[e].cssObj.zIndex},className:v.editor&&v.editor.className||"commentAdd",openEditor:!1,source:'<textarea style="visibility: hidden; display: none;" class="commentTa" title="'+$A.reg[e+"commentTooltip"].role+'"></textarea><button title="'+(v.editor&&v.editor.role||"Edit")+" "+$A.reg[e+"commentTooltip"].role+'" class="commentBtn">'+(v.editor&&v.editor.role||"Edit")+"</button>",runBefore:function(e){e.triggerObj=e.parent.accDCObj},click:function(e,t){e.stopPropagation()},runDuring:function(e){$A.setAttr(e.accDCObj,{role:"dialog","aria-label":e.role}),$A.setAttr(e.containerDiv,"role","application"),e.fn.sraStart.innerHTML=e.fn.sraEnd.innerHTML="",$A.setAttr(e.fn.sraStart,{"aria-hidden":"true"}),$A.setAttr(e.fn.sraEnd,{"aria-hidden":"true"})},add:function(e){var t=D(e.textarea.value.replace(/<|>|\n/g," "));e.comments[e.parent.range.current.year]||(e.comments[e.parent.range.current.year]={}),e.comments[e.parent.range.current.year][e.parent.range.current.mDay]=t;var n=e.parent.range.current.mDay+", "+e.parent.range.wDays[e.parent.range.current.wDay].lng+" "+e.parent.range[e.parent.range.current.month].name+" "+e.parent.range.current.year,a="";(e.parent.range[e.parent.range.current.month].disabled[e.parent.range.current.year]&&-1!==$A.inArray(e.parent.range.current.mDay,e.parent.range[e.parent.range.current.month].disabled[e.parent.range.current.year])||e.parent.range[e.parent.range.current.month].disabled["*"]&&-1!==$A.inArray(e.parent.range.current.mDay,e.parent.range[e.parent.range.current.month].disabled["*"]))&&(a+=e.parent.disabledTxt.replace(/<|>|\"/g,"")+" "),t?($A.addClass(e.parent.current,"comment"),a+=e.parent.commentedTxt.replace(/<|>|\"/g,"")+" "):$A.remClass(e.parent.current,"comment"),n=a+n,$A.setAttr(e.parent.current,{title:D(a),"aria-label":n+" "+t.replace(/\"/g,'"')})},reset:function(){var n=this;n.openEditor?(n.comments=n.parent.range[n.parent.range.current.month].comments,n.textarea?($A.css(n.textarea,{visibility:"",display:""}),n.css("left",n.parent.accDCObj.offsetLeft)):n.textarea=$A.query("textarea",n.containerDiv,function(){$A.css(this,{visibility:"",display:""}),n.css("left",n.parent.accDCObj.offsetLeft),$A.bind(this,{focus:function(e){n.parent.children[0].loaded&&n.parent.children[0].close()},keydown:function(e){var t=e.which||e.keyCode;800<this.value.length&&(this.value=this.value.substring(0,799)),13==t?(n.parent.isAdd=!0,n.add.apply(this,[n]),n.parent.current.focus(),n.openEditor=!1,n.reset(),e.preventDefault()):27==t&&(n.parent.current.focus(),n.openEditor=!1,n.reset(),e.preventDefault())}})})[0],$A.setAttr(n.textarea,{title:n.parent.range.current.mDay+", "+n.parent.range.wDays[n.parent.range.current.wDay].lng+" "+n.parent.range[n.parent.range.current.month].name+" "+n.parent.range.current.year}).focus(),n.comments[n.parent.range.current.year]&&n.comments[n.parent.range.current.year][n.parent.range.current.mDay]&&(n.textarea.value=n.comments[n.parent.range.current.year][n.parent.range.current.mDay]),$A.setAttr(n.commentBtn,{title:(v.editor&&v.editor.action1||"Save")+" "+$A.reg[e+"commentTooltip"].role}).innerHTML=v.editor&&v.editor.action1||"Save"):(n.textarea&&(n.textarea.value="",$A.css(n.textarea,{visibility:"hidden",display:"none"})),n.css("left",n.parent.accDCObj.offsetLeft+n.parent.accDCObj.offsetWidth-n.accDCObj.offsetWidth),$A.setAttr(n.commentBtn,{title:(v.editor&&v.editor.role||"Edit")+" "+$A.reg[e+"commentTooltip"].role}).innerHTML=v.editor&&v.editor.role||"Edit")},runAfter:function(t){$A.query("button",t.containerDiv,function(){t.commentBtn=this,$A.bind(this,{focus:function(e){t.parent.children[0].loaded&&t.parent.children[0].close()},click:function(e){t.openEditor?(t.parent.isAdd=!0,t.add.apply(this,[t]),t.parent.current.focus(),t.openEditor=!1):t.openEditor=!0,t.reset(),e.preventDefault()},keydown:function(e){27==(e.which||e.keyCode)&&(t.openEditor&&(t.parent.current.focus(),t.openEditor=!1,t.reset()),e.preventDefault())}})}),t.reset(),t.lock=!0,$A.bind(window,"resize.dateeditor",function(e){t.setPosition(),t.reset()}),$A.bind($A.query("textarea",t.containerDiv)[0],"keydown",function(e){9!=(e.which||e.keyCode)||e.altKey||e.ctrlKey||!e.shiftKey||($A.query("button",t.containerDiv)[0].focus(),e.preventDefault())})},tabOut:function(e,t){$A.query("textarea",t.containerDiv)[0].focus()},runBeforeClose:function(e){e.openEditor=!1,e.textarea=null,$A.unbind(window,"resize.dateeditor"),v.ajax&&"function"==typeof v.ajax&&v.ajax.apply(e.parent,[e.parent,!0]),e.parent.setFocus.firstOpen=!0},lock:!(m&&v.editor&&v.editor.show)}]),$A.setAttr(t,"aria-expanded","false");var s=$A.reg[e],i=!1,d=function(){i=!1},u=function(){i||s.loaded?!i&&s.loaded&&(i=!0,s.close(),p=g=!1,$A.announce(o),setTimeout(d,1e3)):(p=!(g=!(i=!0)),$A.trigger(this,"opendatepicker"),setTimeout(d,1e3))};$A.bind(t,{click:function(e){u.call(this),e.preventDefault()},keydown:function(e){32===(e.which||e.keyCode)&&(u.call(this),e.preventDefault(),e.stopPropagation())}}),!0===v.openOnFocus&&$A.bind(l,{focus:function(e){"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints||(i||s.loaded||g||p||(i=!0,$A.trigger(t,"opendatepicker"),$A.announce(r),setTimeout(d,1e3)),p=!(g=!0))},blur:function(e){g=!1},keydown:function(e){var t=e.which||e.keyCode;40===t&&g&&!p&&s.loaded?(p=!(g=!1),s.setFocus(s.range.index[s.range.current.mDay-1]),$A.announce(s.helpText),e.preventDefault(),e.stopPropagation()):27===t&&g&&!p&&s.loaded?(p=g=!1,s.close(),$A.announce(o),e.preventDefault(),e.stopPropagation()):9===t&&g&&!p&&s.loaded&&(p=g=!1,s.close(),$A.announce(o),e.preventDefault(),e.stopPropagation())}})};var D=function(e){return e.replace(/^\s+|\s+$/g,"")}}();